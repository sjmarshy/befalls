{"version":3,"sources":["../src/app.js"],"names":[],"mappings":";;;;AAEA,IAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;AAC3B,IAAM,OAAO,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AACxC,IAAM,eAAe,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAClD,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,IAAI,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;AAC7B,IAAM,OAAO,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AACxC,IAAM,KAAK,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;;eACX,OAAO,CAAC,oBAAoB,CAAC;;IAA9C,YAAY,YAAZ,YAAY;;AAEpB,eAAe,CAAC,KAAK,EAAE,CAAC;;AAExB,IAAI,UAAU,GAAG,IAAI,CAAC;;AAEtB,OAAO,CAAC,EAAE,CAAC,oBAAoB,EAAE,UAAC,OAAO,EAAE,MAAM,EAAK;;AAEpD,QAAM,IAAI,KAAK,sCAAoC,OAAO,kBAAa,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAG,CAAC;CAChG,CAAC,CAAC;;AAEH,GAAG,CAAC,EAAE,CAAC,OAAO,EAAE,YAAM;;AAEpB,MAAI,eAAe,GAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAG,IAAI,CAAC,IAAI,CAAE,SAAS,EAAG,aAAa,CAAC,CAAC;;AAE9F,SAAO,CAAC,qBAAqB,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,YAAM;;AAExD,WAAO,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC,CAAC;GACtD,CAAC,CAAC,IAAI,CAAC,YAAM;;AAEZ,cAAU,GAAG,OAAO,CAAC,SAAS,CAC1B,OAAO,CAAC,YAAY,EAAE,EACtB,SAAS,GAAG,SAAS,GAAG,oBAAoB,CAAC,CAAC;;AAElD,cAAU,CAAC;GAEZ,CAAC,CAAC,KAAK,CAAC,UAAC,CAAC,EAAK;;AAEd,WAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;GAClB,CAAC,CAAC;CACJ,CAAC,CAAC","file":"app.js","sourcesContent":["/* eslint no-console: 0 */\n\nconst app = require(\"app\");\nconst browser = require(\"./browser.js\");\nconst crashReporter__ = require(\"crash-reporter\");\nconst path = require(\"path\");\nconst util = require(\"util\");\nconst logfile = require(\"./logfile.js\");\nconst store = require(\"./store.js\");\nconst { fetchEntries } = require(\"./actions/entry.js\");\n\ncrashReporter__.start();\n\nlet mainWindow = null;\n\nprocess.on(\"unhandledRejection\", (promise, reason) => {\n\n  throw new Error(`unhandled rejection for promise ${promise}, reason: ${util.inspect(reason)}`);\n});\n\napp.on(\"ready\", () => {\n\n  let logfileLocation = process.env.BEFALLS_LOGFILE_LOC ||path.join( __dirname , \"history.log\");\n\n  logfile.ensureLogfileExists__(logfileLocation).then(() => {\n\n    return store.dispatch(fetchEntries(logfileLocation));\n  }).then(() => {\n\n    mainWindow = browser.loadURL__(\n        browser.createWindow(),\n        \"file://\" + __dirname + \"/public/index.html\");\n\n    mainWindow;\n\n  }).catch((e) => {\n\n    console.error(e);\n  });\n});\n"]}