{"version":3,"sources":["../../src/actions/entry.js"],"names":[],"mappings":"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","file":"entry.js","sourcesContent":["const ADD_ENTRY = \"ADD_ENTRY\";\nconst ADD_ENTRY_SUCCESS = \"ADD_ENTRY_SUCCESS\";\nconst ADD_ENTRY_FAIL = \"ADD_ENTRY_FAIL\";\nconst GET_ENTRIES = \"GET_ENTRIES\";\nconst GET_ENTRIES_FAIL = \"GET_ENTRIES_FAIL\";\nconst RECEIVE_ENTRIES = \"RECEIVE_ENTRIES\";\nconst { addEntryToFile__, getEntries__ } = require(\"../logfile.js\");\n\nfunction addEntrySuccess(trackingType, name, severity, timeCreated) {\n\n  return {\n\n    type: ADD_ENTRY_SUCCESS,\n    trackingType,\n    name,\n    severity,\n    timeCreated\n  };\n}\n\nfunction addEntryFail(error) {\n  \n  return {\n\n    type: ADD_ENTRY_FAIL,\n    error: error.message\n  };\n}\nfunction addEntry(logfileLocation, trackingType, name, severity, timeCreated) {\n\n  return (dispatch) => {\n\n    dispatch({\n      type: ADD_ENTRY\n    });\n\n    // here we need to save this to a file\n    addEntryToFile__(logfileLocation, trackingType, name, severity, timeCreated).then(() => {\n\n\n      return dispatch(addEntrySuccess(trackingType, name, severity, timeCreated));\n    }).catch((e) => {\n\n      return dispatch(addEntryFail(e));\n    });\n  };\n}\n\nfunction addSymptom(logfileLocation, name, severity, timeCreated = Date.now()) {\n  \n  return addEntry(logfileLocation, \"SYMPTOM\", name, severity, timeCreated);\n}\n\nfunction getEntries() {\n\n  return {\n    type: GET_ENTRIES\n  };\n}\n\nfunction receiveEntries(entries) {\n  return {\n\n    type: RECEIVE_ENTRIES,\n    entries\n  };\n}\n\nfunction getEntriesFail(e) {\n  \n  return {\n\n    type: GET_ENTRIES_FAIL,\n    error: e\n  };\n}\n\nfunction fetchEntries(logfileLocation) {\n\n  return (dispatch) => {\n\n    dispatch(getEntries());\n\n    getEntries__(logfileLocation).then((entries) => {\n\n      dispatch(receiveEntries(entries));\n    }).catch((e) => {\n\n      dispatch(getEntriesFail(e));\n    });\n\n  };\n}\n\nmodule.exports = {\n\n  GET_ENTRIES,\n  RECEIVE_ENTRIES,\n  ADD_ENTRY,\n  ADD_ENTRY_SUCCESS,\n  ADD_ENTRY_FAIL,\n\n  addEntry,\n  getEntries,\n  receiveEntries,\n  addSymptom,\n  addEntrySuccess,\n  addEntryFail,\n  fetchEntries\n};\n"]}